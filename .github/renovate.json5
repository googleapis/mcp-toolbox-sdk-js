{
  extends: [
    "config:recommended",
    ":semanticCommitTypeAll(chore)",
    ":ignoreUnstable",
    "group:allNonMajor",
    ":separateMajorReleases",
    ":prConcurrentLimitNone",
    ":prHourlyLimitNone",
    ":preserveSemverRanges",
  ],
  minimumReleaseAge: "3",
  rebaseWhen: "conflicted",
  configMigration: true,
  dependencyDashboardLabels: ["type: process"],
  packageRules: [
    {
      groupName: "GitHub Actions",
      matchManagers: ["github-actions"],
      pinDigests: true,
    },
    {
      description: "Auto-update genai-toolbox server version",
      matchPackageNames: ["googleapis/genai-toolbox"],
      matchManagers: ["custom.regex"],
      commitMessageTopic: "MCP Toolbox server version in integration tests",
      prTitle: "chore(deps): update mcp toolbox server for integration tests to {{newValue}}",
      matchUpdateTypes: ["minor", "patch"],
    },
    {
      groupName: "js-ts-nonmajor",
      matchCategories: ["js", "typescript"],
      matchUpdateTypes: ["minor", "patch"],
    },
    {
      groupName: "kokoro dependencies",
      matchFileNames: [".kokoro/**"],
    },
  ],
  ignoreDeps: ["typescript"],
  customManagers: [
    {
      customType: "regex",
      managerFilePatterns: [
        "/packages/toolbox-core/integration.cloudbuild.yaml/",
        "/packages/toolbox-adk/integration.cloudbuild.yaml/",
      ],
      matchStrings: [
        "_TOOLBOX_VERSION: ['\"]?(?<currentValue>v?\\d+\\.\\d+\\.\\d+)['\"]?",
      ],
      datasourceTemplate: "github-releases",
      depNameTemplate: "googleapis/genai-toolbox",
      versioningTemplate: "semver",
      packageNameTemplate: "googleapis/genai-toolbox",
    },
  ],
}
